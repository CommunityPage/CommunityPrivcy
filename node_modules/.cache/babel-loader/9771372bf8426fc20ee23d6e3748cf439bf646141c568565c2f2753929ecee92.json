{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kiwis\\\\OneDrive\\\\Desktop\\\\react\\\\photography\\\\src\\\\Components\\\\InstaFeeds.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Feed from './Feed.js';\nimport './instaFeeds.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InstaFeeds = _ref => {\n  _s();\n  let {\n    token,\n    ...props\n  } = _ref;\n  const [feeds, setFeedsData] = useState([]);\n  //use useRef to store the latest value of the prop without firing the effect\n  const tokenProp = useRef(token);\n  tokenProp.current = token;\n  useEffect(() => {\n    // this is to avoid memory leaks\n    const abortController = new AbortController();\n    async function fetchInstagramPost() {\n      try {\n        axios.get(`https://graph.instagram.com/me/media?fields=id,media_type,media_url,caption&limit=${props.limit}&access_token=${props.token}`).then(resp => {\n          setFeedsData(resp.data.data);\n        });\n      } catch (err) {\n        console.log('error', err);\n      }\n    }\n\n    // manually call the fecth function \n    fetchInstagramPost();\n    return () => {\n      // cancel pending fetch request on component unmount\n      abortController.abort();\n    };\n  }, [props.limit]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: feeds.map(feed => /*#__PURE__*/_jsxDEV(Feed, {\n      feed: feed\n    }, feed.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(InstaFeeds, \"7Lr/QVuyl5mvaUDQyaq7AGnY33Y=\");\n_c = InstaFeeds;\nexport default InstaFeeds;\nvar _c;\n$RefreshReg$(_c, \"InstaFeeds\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Feed","InstaFeeds","token","props","feeds","setFeedsData","tokenProp","current","abortController","AbortController","fetchInstagramPost","get","limit","then","resp","data","err","console","log","abort","map","feed","id"],"sources":["C:/Users/kiwis/OneDrive/Desktop/react/photography/src/Components/InstaFeeds.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Feed from './Feed.js'\r\n\r\nimport './instaFeeds.css'\r\nconst InstaFeeds = ({token, ...props}) => {\r\n    const [feeds, setFeedsData] = useState([])\r\n    //use useRef to store the latest value of the prop without firing the effect\r\n    const tokenProp = useRef(token);\r\n    tokenProp.current = token;\r\n\r\n    useEffect(() => {\r\n        // this is to avoid memory leaks\r\n        const abortController = new AbortController();\r\n\r\n        async function fetchInstagramPost () {\r\n          try{\r\n            axios\r\n                .get(`https://graph.instagram.com/me/media?fields=id,media_type,media_url,caption&limit=${props.limit}&access_token=${props.token}`)\r\n                .then((resp) => {\r\n                    setFeedsData(resp.data.data)\r\n                })\r\n          } catch (err) {\r\n              console.log('error', err)\r\n          }\r\n        }\r\n        \r\n        // manually call the fecth function \r\n        fetchInstagramPost();\r\n  \r\n        return () => {\r\n            // cancel pending fetch request on component unmount\r\n            abortController.abort(); \r\n        };\r\n    }, [props.limit])\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {feeds.map((feed) => (\r\n                <Feed key={feed.id} feed={feed} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InstaFeeds;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,IAAI,MAAM,WAAW;AAE5B,OAAO,kBAAkB;AAAA;AACzB,MAAMC,UAAU,GAAG,QAAuB;EAAA;EAAA,IAAtB;IAACC,KAAK;IAAE,GAAGC;EAAK,CAAC;EACjC,MAAM,CAACC,KAAK,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1C;EACA,MAAMU,SAAS,GAAGR,MAAM,CAACI,KAAK,CAAC;EAC/BI,SAAS,CAACC,OAAO,GAAGL,KAAK;EAEzBL,SAAS,CAAC,MAAM;IACZ;IACA,MAAMW,eAAe,GAAG,IAAIC,eAAe,EAAE;IAE7C,eAAeC,kBAAkB,GAAI;MACnC,IAAG;QACDX,KAAK,CACAY,GAAG,CAAE,qFAAoFR,KAAK,CAACS,KAAM,iBAAgBT,KAAK,CAACD,KAAM,EAAC,CAAC,CACnIW,IAAI,CAAEC,IAAI,IAAK;UACZT,YAAY,CAACS,IAAI,CAACC,IAAI,CAACA,IAAI,CAAC;QAChC,CAAC,CAAC;MACR,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,GAAG,CAAC;MAC7B;IACF;;IAEA;IACAN,kBAAkB,EAAE;IAEpB,OAAO,MAAM;MACT;MACAF,eAAe,CAACW,KAAK,EAAE;IAC3B,CAAC;EACL,CAAC,EAAE,CAAChB,KAAK,CAACS,KAAK,CAAC,CAAC;EAEjB,oBACI;IAAK,SAAS,EAAC,WAAW;IAAA,UACrBR,KAAK,CAACgB,GAAG,CAAEC,IAAI,iBACZ,QAAC,IAAI;MAAe,IAAI,EAAEA;IAAK,GAApBA,IAAI,CAACC,EAAE;MAAA;MAAA;MAAA;IAAA,QACrB;EAAC;IAAA;IAAA;IAAA;EAAA,QACA;AAEd,CAAC;AAAA,GAtCKrB,UAAU;AAAA,KAAVA,UAAU;AAwChB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}